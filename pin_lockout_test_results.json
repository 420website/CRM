[
  {
    "test": "Backend Health Check",
    "success": true,
    "message": "Backend accessible and responding correctly (4 pending registrations)",
    "details": {
      "status_code": 200,
      "pending_count": 4
    },
    "timestamp": "2025-08-07T17:05:56.550151"
  },
  {
    "test": "PIN Verification System Working",
    "success": true,
    "message": "Admin PIN verification successful with all required fields",
    "details": {
      "response_fields": [
        "pin_valid",
        "user_id",
        "user_type",
        "session_token",
        "two_fa_enabled",
        "two_fa_required",
        "two_fa_email",
        "needs_email_verification"
      ],
      "user_type": "admin"
    },
    "timestamp": "2025-08-07T17:05:56.830740"
  },
  {
    "test": "Lockout Trigger and Duration Message",
    "success": true,
    "message": "Lockout triggered after 2 attempts with correct '4 hours and 20 minutes' message",
    "details": {
      "lockout_message": "System locked due to multiple failed PIN attempts. Try again in 4 hours and 20 minutes.",
      "failed_attempts": 2
    },
    "timestamp": "2025-08-07T17:05:57.311512"
  },
  {
    "test": "Lockout Duration Calculation",
    "success": true,
    "message": "Lockout duration is correct: 259 minutes (expected ~260)",
    "details": {
      "calculated_minutes": 259,
      "hours": 4,
      "minutes": 19,
      "message": "System locked due to multiple failed PIN attempts. Try again in 4 hours and 19 minutes."
    },
    "timestamp": "2025-08-07T17:05:57.829153"
  },
  {
    "test": "Timezone Fix Working",
    "success": true,
    "message": "Timezone handling working correctly - all 3 lockout responses consistent",
    "details": {
      "consistent_responses": 3,
      "total_tests": 3
    },
    "timestamp": "2025-08-07T17:05:58.626677"
  },
  {
    "test": "Admin PIN Bypass Functionality",
    "success": true,
    "message": "Admin PIN 0224 successfully bypassed lockout and cleared system",
    "details": {
      "admin_response": {
        "pin_valid": true,
        "user_id": "admin",
        "user_type": "admin",
        "session_token": "9b56f811-0ec1-4032-aaaa-e9201e1f7a18",
        "two_fa_enabled": false,
        "two_fa_required": true,
        "two_fa_email": "cmarcoux.personal@gmail.com",
        "needs_email_verification": true
      },
      "post_bypass_status": 401
    },
    "timestamp": "2025-08-07T17:05:59.486749"
  },
  {
    "test": "No Regressions in Authentication System",
    "success": true,
    "message": "Authentication system regression test: Admin PIN: True, Invalid PIN handling: True, Session tokens: True, 2FA fields: True",
    "details": {
      "admin_pin_working": true,
      "invalid_pin_handled": true,
      "session_token_valid": true,
      "twofa_fields_present": true,
      "admin_response": {
        "pin_valid": true,
        "user_id": "admin",
        "user_type": "admin",
        "session_token": "ad9bbe2b-fc58-4a30-8a4c-c250166450b6",
        "two_fa_enabled": false,
        "two_fa_required": true,
        "two_fa_email": "cmarcoux.personal@gmail.com",
        "needs_email_verification": true
      }
    },
    "timestamp": "2025-08-07T17:06:00.012486"
  }
]